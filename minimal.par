// Factorial using Nat.Repeat
def Factorial: [Nat] ! = chan user {
  user[n]
  let result = !
  let driver: recursive either { .step self, .end! } = .end!
  driver.begin.case {
    .end => {
        driver?
        user <> result
    },
    .step => {
      driver.loop
    },
  }
}
